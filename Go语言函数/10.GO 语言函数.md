# Go 语言函数
## Go 语言函数
函数是基本的代码块，用于执行一个任务。

Go 语言最少有个 main() 函数。

你可以通过函数来划分不同功能，逻辑上每个函数执行的是指定的任务。

函数声明告诉了编译器函数的名称，返回类型，和参数。

Go 语言标准库提供了多种可动用的内置的函数。例如，len() 函数可以接受不同类型参数并返回该类型的长度。如果我们传入的是字符串则返回字符串的长度，如果传入的是数字，则返回数组中包含的函数个数。

## 函数定义
Go 语言函数定义格式如下：


```
func function_name( [parameter list] ) [return_types]{
   函数体
}
```

函数定义解析：

- func：函数由 func 开始声明
- function_name：函数名称，函数名和参数列表一起构成了函数签名。
- parameter list]：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数。
- return_types：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。
- 函数体：函数定义的代码集合。

实例：

```
func do16(a, b int) int {
	var c int
	c = a + b
	fmt.Println(c)
	return c
}

func main() {

	do16(1, 2)
}
```
输出：

```
3
```

## 函数调用
当创建函数时，你定义了函数需要做什么，通过调用改函数来执行指定任务。

调用函数，向函数传递参数，并返回值.  

实例：

```
func do16(a, b int) int {
	var c int
	c = a + b
	fmt.Println(c)
	return c
}

func main() {

	do16(1, 2)
}
```

## 函数返回多个值

Go 函数可以返回多个值 

实例：

```
func do17(a, b int) (int, int) {
	var c int
	var d int
	c = a + b
	d = a - b
	return c, d
}

func main() {

	c, d := do17(1, 2)
	fmt.Printf("c=%d,d=%d\n", c, d)

}

```
输出：

```
c=3,d=-1
```
## Go 语言函数作为值
Go 语言可以很灵活的创建函数，并作为值使用。以下实例中我们在定义的函数中初始化一个变量，该函数仅仅是为了使用内置函数 math.sqrt()

实例：

```
func do18() {
	getSquareRoot := func(x float64) float64 {
		return math.Sqrt(x)
	}

	/* 使用函数 */
	fmt.Println(getSquareRoot(9))
}

func main() {
	do18()
}

```
输出：

```
3
```

## 匿名函数
Go语言支持匿名函数，即在需要使用函数时再定义函数，匿名函数没有函数名只有函数体，函数可以作为一种类型被赋值给函数类型的变量，匿名函数也往往以变量方式传递，这与C语言的回调函数比较类似，不同的是，Go语言支持随时在代码里定义匿名函数。

### 定义一个匿名函数

匿名函数的定义格式如下：

```
func(参数列表)(返回参数列表){
    函数体
}
```


匿名函数的定义就是没有名字的普通函数定义。  

**在定义时调用匿名函数**

匿名函数可以在声明后调用:
```
func(data int) {
    fmt.Println("hello", data)
}(100)
```
第3行后的(100)，表示对匿名函数进行调用，传递参数为 100。  

**将匿名函数赋值给变量**

匿名函数可以被赋值:

```
// 将匿名函数体保存到f()中
f := func(data int) {
    fmt.Println("hello", data)
}
// 使用f()调用
f(100)
```
匿名函数的用途非常广泛，它本身就是一种值，可以方便地保存在各种容器中实现回调函数和操作封装。

### 匿名函数用作回调函数
实现对切片的遍历操作，遍历中访问每个元素的操作使用匿名函数来实现，用户传入不同的匿名函数体可以实现对元素不同的遍历操作。

实例：

```
// 遍历切片的每个元素, 通过给定函数进行元素访问
func do19(list []int, f func(int)) {

	for _, v := range list {
		f(v)
	}
}

func main() {
  // 使用匿名函数打印切片内容
	do19([]int{1, 2, 3, 4, 5}, func(i int) {
		fmt.Println(i)
	})
}

```

输出：

```
1
2
3
4
5
```

